# 加密

* 明文存储
  - 密码数据一旦被拖库，就会造成很大的问题
* 单向无盐哈希存储：md5/sha其实都是摘要算法，并不是加密算法
  - 哈希冲突
    + 增加密码复杂度，降低冲突
    + 升级摘要算法：撞库随着算法升级破解时间更长
    + 要避免使用MD5/sha-1这些被大量研究过的短摘要，可以使用sha-256这种更安全的摘要算法，比特币目前就有使用sha-256作为其相关算法。
  - 暴力破解
    + 计算暴力破解
    + 查表暴力破解：字典法

## 加密

* 对称加密:加密和解密使用的密钥是相同的。在互联网上转发密钥，如果通信被监听那么密钥就会落入攻击者之手，存在安全隐患，另外还得设法安全地保管接收到的密钥
* 非对称加密:加密使用的密钥和解密使用的密钥是不相同的。一把是作为公开的公钥，另一把是作为谁都不能给的私钥。公钥加密的信息，只有私钥才能解密；私钥加密的信息，只有公钥才能解密。
  - 使用这种加密方式，发送密文的一方使用公钥进行加密，对方收到加密信息后，使用私钥进行解密。利用这种方式，不需要发送用来解密的私钥，也不必担心密钥被攻击者窃听而盗走，故而安全性更高，但与对称加密相比，算法和实现更加复杂，处理速度更慢。
  - HTTPS 充分两种加密方式的优势，在交换密钥环节使用非对称加密，之后的建立通信交换报文阶段则使用对称加密

## 概念

* 摘要算法：把任意长度的数据转化为固定长度的字符串，字符串的长度一般是固定的有128位 256位之类的
  - 总的集合就有限
    + 生日悖论是指在不少于 23 个人中至少有两人生日相同的概率大于 50%。例如在一个 30 人的小学班级中，存在两人生日相同的概率为 70%。对于 60 人的大班，这种概率要大于 99%。从引起逻辑矛盾的角度来说，生日悖论并不是一种 “悖论”。但这个数学事实十分反直觉，故称之为一个悖论。 生日悖论的数学理论被应用于设计密码学攻击方法——生日攻击。
  - md5和sha1的长度分别为128位和160位，这里的位是二进制的，转化为16进制之后长度分别为32位和40位，从长度上来说sha1相比md5冲突更小一些
* 字典穷举：根据密码构成是长度为12位含字母、数字、特殊符号，可以根据这个特征生成一个所有密码的全排列集合，然后再进行比如md5摘要计算得到一个哈希值，然后把这个映射关系存储下来
* 如何用最少的存储空间表达最多的信息量呢
  - C语言中在传结构体或者数组时一般只传递首地址，其他的元素可以根据这个首地址和偏移量来实现访问，所以用一个地址就可以遍历所有的变量，存储效率很高
  - 二叉树的链式存储和顺序存储都可以借助于根节点，依据左右孩子节点的关系从而实现全树的检索和遍历，在对外传输二叉树时只需要给出根节点即可，不必全部给定
    -
* 彩虹表Rainbow Table

## 加密算法和摘要算法

* 相同：把明文进行变形处理
* 不同
  - 加密算法必然对应解密算法，也就是输入值经过加密算法处理之后可以使用解密算法还原
  - 摘要算法一般认为是单向不可逆的，没办法轻易还原原始输入

## 资源

* [nakov/practical-cryptography-for-developers-book](https://github.com/nakov/practical-cryptography-for-developers-book):Practical Cryptography for Developers: Hashes, MAC, Key Derivation, DHKE, Symmetric and Asymmetric Ciphers, Elliptic Curves, Digital Signatures https://cryptobook.nakov.com
