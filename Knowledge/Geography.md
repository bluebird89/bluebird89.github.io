# 地理

* 非洲板块、印澳板块与欧亚板块碰:导致整个欧亚大陆南侧全线隆起
    - 一众超级山脉及高原就此诞生 堪称地球2亿年来最壮观的造山运动 它西起大西洋东岸 东至印度尼西亚岛弧 包括阿尔卑斯山、喜马拉雅山 伊朗高原、青藏高原等等 全长超过1万千米 横贯地球、直刺苍穹 地质学上称之为 阿尔卑斯-喜马拉雅造山带

## 经纬度

* 纬线：长度是赤道的周长乘以纬线的纬度的余弦，向北和向南，各分90°，称为北纬和南纬，分别用“N”和“S”表示
* 经度：过某地的经线面与本初子午面所成的二面角
    - 格林尼治的子午线被正式定为经度的起点（经度是0°），东经180°即西经180°

## 青藏高原

* 印度洋板块冲击亚欧板块形成
* 抽风机效果：更多的太阳辐射，热空气上升，形成低气压带
    - 南亚季风
    - 东亚季风：分成高寒、干旱区、季风区

## 摩尔多瓦


## 安纳普尔纳峰


### 科尔沁草原

* 但若要说扎根于此、立国于此、鼎盛于此的 便只有契丹
* 早在南北朝时期 契丹便在内蒙古东南部 西拉木伦河及老哈河流域悄然兴起

我生于斯，长于斯。四十余年间，见贯这里的晓月晨风，朝云暮雨，晨曦暮韵，空山林谷，千里碧野，万倾戈壁，寥落星河，在这里农耕与游牧协作，雄浑纤秾并肩，千百世以来，殷殷循循生息。地可视一人之角，天可视一人之边，无限仅限人心大小，距离仅限心意远近。胡琴伴长调咏叹，烧酒对炙肉饕餮。牛羊入圈，马放南山，但得一人之落日天涯。

极目山川无尽头，风烟不断水长流
如何造物开天地，到此令人放马牛
——丘处机。

## 西伯利亚

* 高密度的空气逐渐积聚，形成了亚欧大陆此时的最强高压：西伯利亚高压。在高压控制下，湿润气团不易入侵，上空晴朗无云，大气逆辐射作用减少，加剧大地上的热量消耗，导致地表降温更加强烈。

## [对流层](https://mp.weixin.qq.com/s?__biz=MzIyOTQ1OTYzMw==&mid=2247536451&idx=1&sn=f3cf4a788cbc9a0e0affbdfaf636f7ae&chksm=e8405c9ddf37d58b662c7e5a7920c26fbc7c50d505c70c85469cab9ebff92470be320b1c0b2d)

* 平均厚度约10千米 几乎所有的人类活动 都在这里完成
* 工业时代以来 对流层 却变得越发浑浊
* “雾”和“霾”:是对流层中 两种不同的天气现象 但形成的关键均在于 空气中稳定悬浮的
    - 雾，是小水滴,常呈乳白色 相对湿度可达到90%以上 水平方向的能见度不到千米 随着地表温度上升 便可逐渐消失
    - 霾，则多为干尘粒,相对灰黄 相对湿度一般不超过80% 水平能见度不到10千米 有时甚至能持续多日 难以消散
* PM10:直径不超过10微米的颗粒,能越过人体的重重防线 在呼吸道中沉积 也称“可吸入颗粒物”
* PM2.5:直径不到2.5微米的颗粒,更加微小 更易吸附有毒物和病原体 还能畅通无阻地深入支气管甚至肺泡 引发呼吸道、心脑血管和肺癌等疾病
* 颗粒物来源
    - 自然源：森林大火、火山喷发 海浪飞溅、荒漠扬沙
    - 人类社会：从烹饪油烟到工地扬尘 从汽车尾气到工厂烟尘
* 一次颗粒物：由污染源直接排放进入大气，如 工地扬尘
* 二次颗粒物：“出生”时还只是气体，在大气中“进化”成为颗粒物。霾污染严重时的主要影响因素
    - 二氧化硫(SO2) 氧化形成的 硫酸盐颗粒(SO42-)
    - 氮氧化物(NOx) 挥发性有机物(VOCs) 在光照条件下反应形成的 硝酸盐颗粒(NO3-)和有机物颗粒
    - 氨气(NH3) 与大气中的硫酸、硝酸等 酸碱中和形成的 铵盐颗粒(NH4+)
* 2013年 当74个城市率先开始PM2.5监测时 人们却发现 仅有拉萨、舟山、海口三个城市 能够达到空气质量标准 而污染最为严重的京津冀地区 年均PM2.5浓度更是超标2倍之多
* 来源
    - 电力和热力行业
    - 第二位：石化化工行业
        + 包括 汽油、柴油、焦炭、农药、涂料 化肥、化纤、轮胎、塑料等等 几乎覆盖现代人生活的方方面面
        + 不仅消耗了全国17%的煤炭 更消耗了全国97.5%的原油
        + 这些产品的 生产、加工、运输、使用等 整个上中下游产业链中 一年可向对流层贡献 挥发性有机物1500多万吨
    - 钢铁行业： 煤炭消耗量第三，河北省，2013年时便已 年产粗钢近1.9亿吨
    - 散煤：未经加工、煤质较差 且燃烧分散、缺乏废气处理 常用于中小型工业窑炉 以及人们日常的生活。1吨散煤的燃烧排放 可达1吨电煤的 10-15倍之多
    - 农村中的生物质燃烧
    - 交通:小型客车的数量最为庞大 是有机物、一氧化碳的主要来源 而重型货车的数量虽仅占2% 却排放了46%的氮氧化物 和58%的一次颗粒物
    - 农业:种植业中的化肥施用(有3200万吨氮肥进入农田 其中12.2%的氮 将转化为氨气(NH3)逸出土壤) 养殖业中的动物排泄 则贡献了人为源中 超过90%的氨气排放
* 理论上 对流层的空气温度 将随着垂直高度的增加而降低 即“下暖上冷” 但当逆温层产生时 这个规律却截然相反 即“下冷上暖”
* 由于下层空气温度较低 因而密度更大、难以上升流动 如同一个穹顶 扣在城市之上.无法穿过逆温层的污染物 只能在其下方积聚、扩散 且逆温层高度越低 扩散空间越小 污染也越严重 一旦湿度增加 大霾便顷刻笼罩
* 逆温层形成原因 多种多样

## Geohash

* 将地球理解为一个二维平面，将平面递归分解成更小的子块，每个子块在一定经纬度范围内拥有相同的编码，
* 纬度范围 (-90, 90) 平分成两个区间 (-90,0)、(0, 90)。如果目标纬度位于前一个区间，则编码为0，否则编码为1。
* 将 (0, 90) 分成 (0, 45), (45, 90)两个区间
    - 经度每隔0.00001度，距离相差约1米；
    - 每隔0.0001度，距离相差约10米；
    - 每隔0.001度，距离相差约100米；
    - 每隔0.01度，距离相差约1000米；
    - 每隔0.1度，距离相差约10000米。
* 经度也用同样的算法，对 (-180, 180) 依次细分
* 将经度和纬度的编码合并，奇数位是纬度，偶数位是经度。用0-9、b-z（去掉a, i, l, o）这32个字母进行 base32 编码,数据库新增一个字段 geohash，记录此点的geohash值
* 查询附近的时候，利用SQL中 like 'wx4g0e%' 进行查询
* 获取附近点距离

```php
/**
 * [PHP Code] 根据经纬度计算两点之间的记录
 * @param $lat1 纬度1
 * @param $lng1 经度1
 * @param $lat2 纬度2
 * @param $lng2 经度2
 * @return float 单位(米)
 */
function getDistance($lat1, $lng1, $lat2, $lng2)
{
    //地球半径
    $R = 6378137;

    //将角度转为弧度
    $radLat1 = deg2rad($lat1);
    $radLat2 = deg2rad($lat2);
    $radLng1 = deg2rad($lng1);
    $radLng2 = deg2rad($lng2);

    //结果
    $s = acos(cos($radLat1) * cos($radLat2) * cos($radLng1 - $radLng2) + sin($radLat1) * sin($radLat2)) * $R;

    //精度
    $s = round($s * 10000)/10000;

    return  round($s);
}
```

* [helei112g/laravel_geohash](https://github.com/helei112g/laravel_geohash):在laravel中使用geohash实现附近的功能
