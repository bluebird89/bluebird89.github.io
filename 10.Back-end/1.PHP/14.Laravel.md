# 环境配置

- homestead:安装virtualbox and vagrant
- valet

```
brew install homebrew/php/php71
# 确保 ~/.composer/vendor/binp
sudo chown -R $USER .composer/
composer global require laravel/valet
export PATH=$PATH:~/.composer/vendor/bin
valet install
终端ping一下任意 *.dev 域名
# 修改域名
valet domain app
# 安装MySQL
brew install mysql
# 启动服务
brew services start mysql
# 升级
composer global update
valet stop
valet uninstall
valet restart
```

- parallels vagrant plugin install vagrant-parallels ```

# 下载&&安装

- vagrant box add laravel/homestead（下不动）
- 下载软件 <https://atlas.hashicorp.com/laravel/boxes/homestead/versions/2.1.0/providers/virtualbox.box>

# 加载

- vagrant box add --name laravel\homestead virtualbox.box
- vagrant list
- git clone <https://github.com/laravel/homestead.git> Homestead
- 初始化配置文件 init.bat
- 修改scripts/homestead.rb Homestead.yaml文件 config.vm.box = "laravel/homestead" #box的名字（需与盒子列表中的一致） config.vm.box_version = "0" #box的版本号（需与盒子列表中的一致） config.vm.box_check_update = false #box是否检查更新 config.ssh.username = 'vagrant' config.ssh.password = 'vagrant'

- 文件路径配置 vagrant reload --provision

## [Laravel 5.1 LTS 中文文档](https://docs.golaravel.com/docs/5.4/installation/)

- The only supported ciphers are AES-128-CBC and AES-256-CBC with the correct key lengths.: `php artisan key:generate`

## Homestead

- vagrant box add laravel/homestead || vagrant box add laravel/homestead <https://atlas.hashicorp.com/laravel/boxes/homestead>
- git clone <https://github.com/laravel/homestead.git> Homestead
- bash init.sh
- 修改.homestread\Homestead.yaml

  ```
        folders:
        - map: D:\Code    <!-- 项目地址 -->
            to: /home/vagrant/Code   <!-- 虚拟机的项目地址 -->

        sites:
        - map: laravel.app  <!-- 添加的站点名称 -->
            to: /home/vagrant/Code/Laravel/public <<!-- 站点对应的虚拟机文件 -->
  ```

- vagrant init vagrant up

- 添加ip

Homestead(vagrant up):The SSH command responded with a non-zero exit status.

Composer代理镜像

from @golaravel

"repositories": [ {"type": "composer", "url": "<http://packagist.phpcomposer.com"}>, {"packagist": false} ],

Artisan 常用命令

- 列出所有可用命令:php artisan list
- 浏览命令的帮助画面:php artisan help migrate
- 显示目前的Laravel版本:php artisan --version
- 指定环境配置:php artisan migrate --env=local
- 使程序进入维护模式:php artisan down
- 使程序退出维护模式:php artisan up
- 显示当前框架环境:php artisan env
- 重新生成框架的自动加载文件:composer dump-autoload

- 列出当前应用全部路由规则:php artisan routes:list

- 创建一个路由缓存文件:php artisan routes:cache

- 清除路由缓存文件:php artisan routes:clear

- 清空路由缓存：php artisan route:clear

- 运行数据库迁移:php artisan migrate

- 初始化迁移数据表:php artisan migrate:install

- 重置并重新执行所有的数据迁移:php artisan migrate:refresh

- 回滚所有的数据迁移:php artisan migrate:reset

- 回滚最近一次数据迁移:php artisan migrate:rollback

- 填充种子数据 测试用:php artisan db:seed
- 创建一个种子数据:php artisan make:seeder
- 创建一个数据迁移:php artisan make:migration name

- 创建一个控制器:php artisan make:controller

- 创建一个中间件:php artisan make:middleware

- 创建一个模型:php artisan make:model

- 创建一个命令类:php artisan make:command

- 创建一个Artisan命令:php artisan make:console

- 发布来自插件包的资源:php artisan vendor:publish

- 清除应用程序缓存:php artisan cache:clear

- 生成应用的key(APP_KEY)为一个随机字符串:php artisan key:generate

- php artisan view:clear

## 概念

- markdown:在邮件中利用预置模板和邮件通知组件，由于消息使用Markdown格式编写，因此Laravel可以将这些消息渲染成美观、响应式的HTML模板的同时自动为其生成纯文本副本
- dusk: 提供了优雅的、易于使用的浏览器自动化测试API。默认情况下，Dusk不需要在机器上安装JDK或Selenium，取而代之的，Dusk使用一种独立的ChromeDriver安装方式。由于Dusk在操作过程中使用了真实的浏览器，所以可以很轻松地对那些重度使用JavaScript的应用进行测试和交互：
- Mix是Laravel Elixir的精神继承者，完全基于Webpack而不是Gulp。Laravel Mix为使用通用CSS和JavaScript预处理器定义Laravel应用的Webpack构建步骤提供了流式API。通过简单的方法链，你可以定义流式资源管道
- Blade组件和插槽为section和layout提供了类似的好处
- 目前支持高阶消息传递的集合方法有：contains、each、every、filter、first、 map、 partition、 reject、sortBy、 sortByDesc和 sum。
- Eloquent事件处理器现在可以被映射到事件对象上，这为我们处理Eloquent事件并让其变得易于测试提供了一种直观的方式
- Facades
- 中间件
- guzzle
- 广播

## 教程

composer require laravel/tinker
