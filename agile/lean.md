# lean

* 精益。源自丰田生产方式的“精益”的愿景就是“Shortest lead time”，即用最短的时间来完成从客户下订单到收到货物的全过程
* 在制造业的流程中，价值流随处可见，它始于接收到客户订单并将原材料发往工厂。为了缩短和预测价值流中的前置时间，通常需要持续地关注如何建立一套流畅的工作流程。

## 精益测试

* 不能一味的追求测试覆盖率，大而全的测试覆盖是一种浪费，有效的测试更有价值。
* 要先搞清楚业务价值和质量目标，根据业务风险来执行测试，对于优先级高的要重点测，而优先级低的可以减少测试覆盖。根据“二八原则”，80%的业务优先级可能只在其中20%的功能模块上，而其他80%的功能模块只占有20%的业务。
* 质量目标是关键，对于一些事关生命安危的软件系统，质量要求会特别高，全面的测试覆盖都是有效的，也是恰到好处的一种。
* 定义：**以业务价值为目标，以尽量少的成本交付高质量的软件，测试测在能体现价值的点上，做到有效覆盖，减少浪费。**
* 适时（Time）
	* 让测试活动发生在敏捷软件开发生命周期的每个环节，而让每种类型的测试发生在它最该发生的时刻，这就是“适时”的概念。比如：开发前对需求的确认，开发代码提交前自动化测试的实现和验证，部署后对系统做的冒烟测试等等。
* 适量（Amount）
	* 根据风险来确定需要加强测试的业务优先级和响应的测试覆盖量，一定不能一味的追求高覆盖。需要权衡利弊，把时间花在真正有价值的事情上
	* 比如，做用户故事验收的时候，需要测到多细一直是个有争议的问题。我觉得主要路径的正常用例，加上一些需要特别关注的点就可以了，特别关注的点包括易出错的异常路径、IE这样的特殊浏览器、高风险的安全问题等。不能也不需要在故事验收的时候覆盖所有的边角情况，毕竟需求、开发和测试三方凑一起不容易，时间要尽量短些才好。
	* 当然，可能有的团队还需要在故事验收的时候验收日志、性能等，只要做到尽量高效，按照团队需求来就好，并没有千篇一律的答案。
* 精准（Target）
	* 指根据代码改动所影响到的范围去针对性的进行自动化测试。
	* 这里说的精准测试范围更广，可以理解为基于风险的测试，风险可能来自于业务和架构层面，也可能来自于代码改动，还可能跟系统特点或其他项目因素相关。
	* 执行测试之前更重要的是分析和设计，不能盲目的去测。

### 测试四象限

* 左右两侧指的是测试的作用，分别为支持团队和评价产品，而上下两部分指的是测试面向的对象，分别为面向业务和面向技术。
* 支持团队的测试
	* 用来告诉团队要写什么代码，起到明确需求、辅助设计的作用。
	* 第一象限是面向技术的支持团队的测试，帮助构建产品的内部质量，也就是代码质量的保障，比如单元测试和API测试等；
	* 第二象限则是面向业务的支持团队的测试，从更高层次以业务专家可以理解的方式确定系统期望的行为，帮助团队澄清业务以更好的理解真正的业务价值。
	* 这两个象限的测试能够快速提供反馈信息，并确保快速的解决问题，既指导了功能的开发，又提供了防止重构和新代码的引入而导致不期望行为发生的安全网。
* 评价产品的测试
	- 程序员编写的代码可以使得左侧面向业务的测试通过，但也可能没有产生客户真正想要的东西，因此还需要第三、第四象限的评价产品的测试。
	- 第三象限是面向业务的评价产品的测试，通过模仿真实用户使用应用的方式，帮助确认是否构建了真正需要的产品；
	- 第四象限是面向技术评价产品的测试，主要采用工具和相应的技术来评价产品的性能、健壮性和安全性等非功能特性，并且在开发周期的每一步都要考虑这些测试的开展。
	- 这两个象限的测试中产生的信息应该反馈到象限矩阵的左侧，并用于创建新的测试来驱动下一步开发，形成良性的增强环路。
- 使用
	- 与测试执行时机相关的因素通常有： 
		- 产品发布的风险 
    		- 客户方对产品目标的要求 
    		- 是基于遗留系统的开发还是从零开始构建的新系统 
   		- 可利用的测试资源等

### 测试分层

* 测试金字塔呈现的是不同种类测试比例的多少，底层单元测试较多，越往上层测试比例越少，呈现为金字塔结构。
* 不管比例如何，每层测试有着自己的特点。越往底层的测试越接近代码，编写成本更低、执行速度更快、定位问题也更准确，但是离业务较远，不能很好的体现业务价值；越往上层的测试越接近业务，更能反应业务价值，但有着不够稳定、执行速度慢、实现成本较高、问题定位难的不足。因此，需要权衡利弊，根据项目具体情况，真实的目标来确定每层测试的比例。